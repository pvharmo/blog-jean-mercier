---
import PostsGrid from "../components/PostsGrid.astro";
import t from "../locales/language"
const { lang } = Astro.props
const posts: any[] = []
---

<script>
  let w: any = window
  if (w.netlifyIdentity) {
    w.netlifyIdentity.on("init", (user: any) => {
      if (!user) {
        w.netlifyIdentity.on("login", () => {
          document.location.href = "/admin/";
        });
      }
    });
  }
</script>

<svelte:head>
  <title>{t(lang).home} | {t(lang).siteName}</title>
  <!-- <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script> -->
</svelte:head>

<div id="home-page" class="page-wrapper home-page">
  <PostsGrid posts={posts} lang={lang} />
</div>
